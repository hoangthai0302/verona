<!-- Modal content-->
<form name="addIncidentForm" ng-submit="addIncident(addIncidentForm.$valid)" novalidate>
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title text-center text-bold">Add a new incident</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-xs-7">
                    <div class="form-group" ng-class="{ 'has-error' : addIncidentForm.jobTypeCode.$error.required && !addIncidentForm.jobTypeCode.$pristine }">
                        <label class="control-label">Incident type*</label>
                        <select name="jobTypeCode" ng-model="jobTypeCode" class="form-control" required>
                            <option ng-repeat="type in jobTypes" ng-value="type.JobTypeCode">{{type.JobTypeDescription}}</option>

                        </select>
                        <div ng-messages="addIncidentForm.jobTypeCode.$error" ng-if="!addIncidentForm.jobTypeCode.$pristine" class="text-danger">
                            <div ng-message="required">This field is required</div>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{ 'has-error' : (addIncidentForm.location.$error.required || addIncidentForm.location.$error.maxlength) && !addIncidentForm.location.$pristine }">
                        <label class="control-label">Location*</label>
                        <input type="text" name="location" required max-length50 ng-model="location" class="form-control" id="pwd">
                        <div ng-messages="addIncidentForm.location.$error"
                             ng-if="!addIncidentForm.location.$pristine" class="text-danger">
                            <div ng-message="required">This field is required</div>
                            <div ng-message="maxlength">This field must not exceed 50 characters</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Latitude</label>
                                <input type="text" latitude ng-model="latitude" class="form-control">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label">Longitude</label>
                                <input type="text" longitude ng-model="longtitude" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-5 col-right">
                    <div class="form-horizontal">
                        <div class="form-group" ng-class="{ 'has-error' : addIncidentForm.vrm.$error.required && !addIncidentForm.vrm.$pristine }">
                            <label class="control-label col-sm-2" for="email">VRM*</label>
                            <div class="col-sm-10">
                                <input type="text" name="vrm" upper-case required max-length50  ng-model="vrm" class="form-control ">
                            </div>
                            <div ng-messages="addIncidentForm.vrm.$error"
                                 ng-if="!addIncidentForm.vrm.$pristine" class="text-danger">
                                <div ng-message="required" class="col-sm-10 col-sm-offset-2">This field is required</div>
                                <div ng-message="maxlength">This field must not exceed 50 characters</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2">Make</label>
                            <div class="col-sm-10">
                                <select name="" ng-model="makeNumber" class="form-control">
                                    <option value=""></option>
                                    <option ng-repeat="make in vehicleMakes" ng-value="make.MakeNumber">{{make.Make}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2">Colour</label>
                            <div class="col-sm-10">
                                <select name="" ng-model="colorNumber" class="form-control">
                                    <option value=""></option>
                                    <option ng-repeat="color in vehicleColors" ng-value="color.ColourNumber">{{color.Colour}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-12">
                    <label class="control-label">Additional information</label>
                    <textarea name="" id="" ng-model="notes" max-length-notes cols="30" rows="7" class="form-control no-resize"> </textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="control-label">Date</label>
                        <input type="text" ng-model="date" class="form-control" readonly>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label class="control-label">Time</label>
                        <input type="text" ng-model="time" class="form-control" readonly>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="control-label">Create by</label>
                        <input type="text" class="form-control" ng-model="createdBy" readonly>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn green" >Add incident</button>
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="close();">Cancel</button>
        </div>
    </div>
</form>